# Family App - Enterprise CRUD Framework Configuration
# This file defines the API configuration for each model in the family app

models:
  GrandParent:
    # API Configuration
    api_name: "grandparent"
    api_description: "Family grandparent management"
    
    # Security Configuration
    login_required: true
    model_permissions:
      - "family.view_grandparent"
      - "family.add_grandparent"
    sensitive_fields: []
    
    # Search Configuration
    search_fields:
      - "name"
    full_text_search: true
    
    # Business Rules
    business_rules:
      name_required: "Name must be provided"
    
    # Caching Configuration
    cache_enabled: true
    cache_ttl: 300
    
    # Webhook Configuration
    webhook_events:
      - "create"
      - "update"
      - "delete"
    webhook_urls:
      - "https://your-app.com/webhooks/family"
    
    # GraphQL Configuration
    graphql:
      queries:
        - "list"
        - "detail"
        - "count"
      mutations:
        - "create"
        - "update"
        - "delete"
      nested_creation: true
      nested_updates: true
      cascade_delete: true
    
    # Field Configuration - ONLY ACTUAL MODEL FIELDS
    fields:
      include: ["id", "name", "gender"]
      exclude: []
      read_only: []
      write_only: []
    
    # Relationship Configuration
    relationships:
      grand_children:
        include: true
        nested_creation: true
        nested_updates: true
        max_depth: 2

  GrandChild:
    # API Configuration
    api_name: "grandchild"
    api_description: "Family grandchild management"
    
    # Security Configuration
    login_required: true
    model_permissions:
      - "family.view_grandchild"
      - "family.add_grandchild"
    sensitive_fields: []
    
    # Search Configuration
    search_fields:
      - "name"
      - "grand_parent__name"
    full_text_search: true
    
    # Business Rules
    business_rules:
      grandparent_required: "Grandparent must be provided"
    
    # Caching Configuration
    cache_enabled: true
    cache_ttl: 300
    
    # GraphQL Configuration
    graphql:
      queries:
        - "list"
        - "detail"
        - "count"
      mutations:
        - "create"
        - "update"
        - "delete"
      nested_creation: true
      nested_updates: true
    
    # Field Configuration - ONLY ACTUAL MODEL FIELDS
    fields:
      include: ["id", "name", "gender", "grand_parent"]
      exclude: []
      read_only: []
      write_only: []
    
    # Relationship Configuration
    relationships:
      grand_parent:
        include: true
        nested_creation: false
        nested_updates: false
        max_depth: 1
      children:
        include: true
        nested_creation: true
        nested_updates: true
        max_depth: 1

  Child:
    # API Configuration
    api_name: "child"
    api_description: "Family child management"
    
    # Security Configuration
    login_required: true
    model_permissions:
      - "family.view_child"
      - "family.add_child"
    sensitive_fields: []
    
    # Search Configuration
    search_fields:
      - "name"
      - "parent__name"
      - "parent__grand_parent__name"
    full_text_search: true
    
    # Business Rules
    business_rules:
      parent_required: "Parent must be provided"
      unique_name_per_parent: "Child name must be unique per parent"
    
    # Caching Configuration
    cache_enabled: true
    cache_ttl: 300
    
    # GraphQL Configuration
    graphql:
      queries:
        - "list"
        - "detail"
        - "count"
      mutations:
        - "create"
        - "update"
        - "delete"
      nested_creation: true
      nested_updates: true
    
    # Field Configuration - ONLY ACTUAL MODEL FIELDS
    fields:
      include: ["id", "name", "gender", "parent"]
      exclude: []
      read_only: []
      write_only: []
    
    # Relationship Configuration
    relationships:
      parent:
        include: true
        nested_creation: false
        nested_updates: false
        max_depth: 1
